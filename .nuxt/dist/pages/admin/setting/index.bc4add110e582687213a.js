webpackJsonp([13],{"3t+Y":function(e,r,a){"use strict";var i=function(){var e=this,r=e.$createElement,a=e._self._c||r;return a("b-container",[a("b-row",[a("b-col",[a("b-alert",{attrs:{show:""}},[e._v("更新账户信息")]),a("b-form",[a("b-form-group",{attrs:{id:"nameGroup",label:"用户名","label-for":"name"}},[a("b-form-input",{directives:[{name:"validate",rawName:"v-validate.initial",value:"required",expression:"'required'",modifiers:{initial:!0}}],attrs:{id:"name",name:"name",state:!e.errors.has("name")},model:{value:e.form.name,callback:function(r){e.$set(e.form,"name",r)},expression:"form.name"}}),a("b-form-invalid-feedback",[e._v(e._s(e.errors.first("name")))])],1),a("b-form-group",{attrs:{id:"mobileGroup",label:"手机","label-for":"mobile"}},[a("b-form-input",{directives:[{name:"validate",rawName:"v-validate.initial",value:"required",expression:"'required'",modifiers:{initial:!0}}],attrs:{id:"mobile",name:"mobile",state:!e.errors.has("mobile")},model:{value:e.form.mobile,callback:function(r){e.$set(e.form,"mobile",r)},expression:"form.mobile"}}),a("b-form-invalid-feedback",[e._v(e._s(e.errors.first("mobile")))])],1),a("b-form-group",{attrs:{id:"emailGroup",label:"邮箱","label-for":"email"}},[a("b-form-input",{directives:[{name:"validate",rawName:"v-validate.initial",value:"required",expression:"'required'",modifiers:{initial:!0}}],attrs:{id:"email",name:"email",state:!e.errors.has("email")},model:{value:e.form.email,callback:function(r){e.$set(e.form,"email",r)},expression:"form.email"}}),a("b-form-invalid-feedback",[e._v(e._s(e.errors.first("email")))])],1),a("b-form-group",{attrs:{id:"passwordGroup",label:"密码","label-for":"password"}},[a("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:"confirmed:确认密码",expression:"'confirmed:确认密码'"}],attrs:{id:"password",name:"密码",type:"password",state:!e.errors.has("密码")},model:{value:e.form.password,callback:function(r){e.$set(e.form,"password",r)},expression:"form.password"}}),a("b-form-invalid-feedback",[e._v(e._s(e.errors.first("密码")))])],1),a("b-form-group",{attrs:{id:"passwordConfirmationGroup",label:"确认密码","label-for":"passwordConfirmation"}},[a("b-form-input",{attrs:{id:"passwordConfirmation",name:"确认密码",type:"password"},model:{value:e.form.password_confirmation,callback:function(r){e.$set(e.form,"password_confirmation",r)},expression:"form.password_confirmation"}})],1),a("b-button",{attrs:{variant:"outline-info"},on:{click:e.update}},[e._v(e._s(e.$t("btn.submit")))])],1)],1)],1)],1)};i._withStripped=!0;var t={render:i,staticRenderFns:[]};r.a=t},gkN6:function(e,r,a){"use strict";var i=a("Xxa5"),t=a.n(i),o=a("exGp"),s=a.n(o),n=a("Dd8w"),l=a.n(n),m=a("woOf"),d=a.n(m),f=a("NYxO"),u=a("M4fF"),c=(a.n(u),a("e7x4")),p=a.n(c);r.a={layout:"admin",head:function(){return{titleTemplate:"%s - 设置"}},created:function(){this.form=d()({},Object(u.pick)(this.user,["name","mobile","email"]))},computed:l()({},Object(f.mapGetters)({user:"auth/user"})),data:function(){return{form:{}}},methods:{update:function(){var e=s()(t.a.mark(function e(){var r,a,i=this;return t.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$axios.$put("admin/users/"+this.user.id,this.form);case 2:r=e.sent,a=r.data,p()({text:"更新信息成功",type:"success",timer:1500}).then(function(){i.$store.dispatch("auth/updateUser",a)});case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}}},vXzE:function(e,r,a){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=a("gkN6"),t=a("3t+Y"),o=a("VU/8")(i.a,t.a,!1,null,null,null);o.options.__file="client/pages/admin/setting/index.vue",r.default=o.exports}});